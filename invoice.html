<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <title>Document</title>
</head>

<body>
    <nav class="navbar is-dark" role="navigation" aria-label="main navigation"
        style="position:fixed; top: 0; width: 100%;">
        <div class="navbar-brand">
            <a class="navbar-item" href="index.html">
                <i class="fas fa-home "></i>
                &nbsp Home
            </a>
        </div>
        <div class="navbar-menu">
            <div class="navbar-start">
                <a class="navbar-item">
                    ค้นหาห้องพัก
                </a>

                <div class="navbar-item has-dropdown is-hoverable">
                    <a class="navbar-link">
                        ห้องพักของเรา
                    </a>

                    <div class="navbar-dropdown">
                        <a class="navbar-item" href="#sd">
                            Standard Room
                        </a>
                        <a class="navbar-item" href="#dl">
                            Deluxe Room
                        </a>
                        <a class="navbar-item" href="#st">
                            Suite Room
                        </a>
                        <a class="navbar-item" href="#su">
                            Superior Room
                        </a>
                    </div>
                </div>
            </div>
            <div class="navbar-end">
                <div class="navbar-item">
                    <div class="buttons asd">
                        <a class="button is-dark" href="profile.html">
                            <strong>My Profile</strong>
                        </a>
                        <a class="button is-danger">
                            Log out
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
  
    <!-- หน้ารายละเอียด -->
    <div class="columns" style="margin-top: 100px" id="invoice">
        <div class="column"></div>
        <div class="column is-three box">
            <table class="table is-bordered" style="width: 100%;">
                <tr>
                    <th colspan="4" class="has-text-centered">ใบชำระเงิน</th>
                </tr>
                <tr>
                    <td colspan="2">เลขบัญชี : 1234567890</td>
                    <td colspan="2">ธนาคาร : กรุงไทย</td>
                </tr>
                <tr>
                    <td colspan="4">ชื่อบัญชี : folk</td>
                </tr>

                <tr>
                    <th colspan="4" class="has-text-centered">รายละเอียดการจอง</th>
                </tr>
                <tr>
                    <td colspan="4">ชื่อ : {{ information[num-1].fname + ' ' + information[num-1].lname }}</td>
                </tr>
                <tr>
                    <td colspan="2">Check in : {{ information[num-1].checkIn }}</td>
                    <td colspan="2">Check out : {{ information[num-1].checkOut }}</td>
                </tr>
                <tr>
                    <td colspan="2">จำนวนคน : {{ information[num-1].people }}</td>
                    <td colspan="2">จำนวนห้อง : {{ information[num-1].countRoom }}</td>

                </tr>
                <tr>
                    <td colspan="2">ประเภทห้อง : {{ information[num-1].type }}</td>
                    <td colspan="2">ราคา : {{ information[num-1].price }}</td>
                </tr>
                <tr>
                    <td colspan="3">รวม : {{ total }}</td>
                </tr>
                <tr>
                    <th colspan="4" class="has-text-centered">หลักฐานการจ่ายตัง</th>
                </tr>
                <tr>
                    <td colspan="4">สลิป :
                        <input type="file" v-model="file">
                    </td>
                </tr>
            </table>
            <div class="columns">
                <div class="column"></div>
                <div class="column"></div>
                <div class="column is-three">
                    <a class="button is-primary " @click="confirm()">ยืนยัน</a>
                </div>
                <div class="column">
                    <a href="booking.html" class="button is-danger">ยกเลิก</a>
                </div>

                <div class="column"></div>
                <div class="column"></div>
            </div>

        </div>
        <div class="column">{{num}}</div>

    </div>


    <script>
        var app = new Vue({
            el: '#invoice',
            data: {
                information: '',
                total: 0,
                file: '',
                // history: '',
                num : JSON.parse(localStorage.getItem('book')).length
        

            },
            methods: {
                confirm() {



                    // const receipt = JSON.stringify(this.history)
                    // this.history.push(receipt)

                    // localStorage.setItem("history", this.history);
                  
                    // foreach(his in this.history){
                    //     console.log(his.fname)
                    // }


                    // this.cart_history.push(this.history)
                    
                 
                    // localStorage.setItem("cart_history",   JSON.stringify(this.cart_history));

                    this.cart_history = JSON.parse(localStorage.getItem('book'))



                    window.location.href = "profile.html";

                },

                play(){
                    alert("play");
                }

            },

            created() {
                if(localStorage.getItem('book') != null){
                    // this.history = JSON.parse(localStorage.getItem('book'))
                    this.information = JSON.parse(localStorage.getItem('book'))
                    console.log(this.information)
                    this.total = this.information[this.num-1].price * this.information[this.num-1].countRoom
                }
            }
        })
    </script>

    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>


</body>

</html>